{"version":3,"sources":["components/Modal/Modal.module.css","components/PhotoCard/PhotoCard.module.css","components/App/App.module.css","components/SearchForm/SearchForm.jsx","services/api.js","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/App/App.jsx","index.js","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","this","className","style","input","type","placeholder","onChange","Component","getItems","query","page","axios","get","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","event","current","window","addEventListener","removeEventListener","imageUrl","backdrop","ref","onClick","role","modal","src","alt","PhotoCard","isModal","openModal","closeModal","webformatURL","likes","views","comments","downloads","largeImageURL","photoCard","image","stats","statsItem","fullscreenButton","Gallery","posts","onLoadMore","gallery","map","item","key","id","listItem","button","App","items","error","fetchItems","then","data","hits","catch","onScroll","scrollTo","wrapper","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.65ed008f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__1WYq_\",\"backdrop\":\"Modal_backdrop__1xllL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__3gqjc\",\"image\":\"PhotoCard_image__oJWDz\",\"stats\":\"PhotoCard_stats__2wbTz\",\"statsItem\":\"PhotoCard_statsItem__2hQAU\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2-kpZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__3JQ4D\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n        <input\n          className={style.input}\n          type=\"text\"\n          value={value}\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst getItems = (query, page) =>\n  axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=14391483-6df0c27986739f1f1bff685ef`,\n  );\n\nexport default getItems;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    imageUrl: PropTypes.string.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackdropClick = event => {\n    const { current } = this.backdropRef;\n    if (current && event.target !== current) return;\n    this.props.onClose();\n  };\n\n  render() {\n    const { imageUrl } = this.props;\n    return (\n      <>\n        <div\n          className={style.backdrop}\n          ref={this.backdropRef}\n          onClick={this.handleBackdropClick}\n          role=\"presentation\"\n        >\n          <div className={style.modal}>\n            <img src={imageUrl} alt=\"#\" />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './PhotoCard.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class PhotoCard extends Component {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n\n  state = {\n    isModal: false,\n  };\n\n  openModal = () => {\n    this.setState({ isModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const {\n      webformatURL,\n      likes,\n      views,\n      comments,\n      downloads,\n      largeImageURL,\n    } = this.props;\n    const { isModal } = this.state;\n    return (\n      <div className={style.photoCard}>\n        <div className={style.image}>\n          <img src={webformatURL} alt=\"randomPicture\" />\n        </div>\n\n        <div className={style.stats}>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n        <button\n          type=\"button\"\n          className={style.fullscreenButton}\n          onClick={this.openModal}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n        {isModal && (\n          <Modal onClose={this.closeModal} imageUrl={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport style from './Gallery.module.css';\n\nconst Gallery = ({ posts, onLoadMore }) => (\n  <div>\n    <ul className={style.gallery}>\n      {posts.map(item => (\n        <li key={item.id} className={style.listItem}>\n          <PhotoCard {...item} />\n        </li>\n      ))}\n    </ul>\n    <button type=\"button\" className={style.button} onClick={onLoadMore}>\n      Load more\n    </button>\n  </div>\n);\nGallery.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onLoadMore: PropTypes.func.isRequired,\n};\nexport default Gallery;\n","import React, { Component } from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport getItems from '../../services/api';\nimport Gallery from '../Gallery/Gallery';\nimport style from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    items: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    getItems(query, page).then(({ data }) =>\n      this.setState({ items: data.hits }),\n    );\n  }\n\n  fetchItems = (query, page, items) => {\n    getItems(query, page)\n      .then(({ data }) =>\n        this.setState({\n          items: [...items, ...data.hits],\n          query,\n          page,\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  onScroll = () => {\n    window.scrollTo(0, 1000);\n  };\n\n  onSubmit = value => {\n    this.setState({ query: value });\n    this.fetchItems(value, 1, []);\n  };\n\n  onLoadMore = () => {\n    const { query, page, items } = this.state;\n    this.fetchItems(query, page + 1, items);\n    this.onScroll();\n  };\n\n  render() {\n    const { items, error } = this.state;\n    return (\n      <div className={style.wrapper}>\n        <SearchForm onSubmit={this.onSubmit} />\n        {error && <p>Woops, something went wrong: {error.message}</p>}\n        {!!items.length && (\n          <Gallery posts={items} onLoadMore={this.onLoadMore} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__35rWL\",\"listItem\":\"Gallery_listItem__1KsFs\",\"button\":\"Gallery_button__3SFIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1PUgm\",\"input\":\"SearchForm_input__2kjzC\"};"],"sourceRoot":""}